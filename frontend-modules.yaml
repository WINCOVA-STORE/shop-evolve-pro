# WINCOVA E-COMMERCE - Estructura Modular Frontend
# Versi√≥n: 1.0.0
# √öltima actualizaci√≥n: 2024-02-23

metadata:
  project_name: "WINCOVA E-Commerce"
  version: "1.0.0"
  status: "Frontend completo - Modo MOCK"
  stack:
    - React 18.3.1
    - TypeScript 5.x
    - Vite 5.x
    - Tailwind CSS 3.x
    - Shadcn/ui
  database_mock: "src/data/mockData.ts"
  future_backend: "Supabase + Edge Functions"

# ============================================
# M√ìDULOS VISUALES PRIORITARIOS
# ============================================

modules:
  
  # --- M√ìDULO 1: FICHA DE PRODUCTO ---
  product_detail:
    name: "Ficha de Producto"
    status: "‚úÖ COMPLETO"
    priority: 1
    files:
      pages:
        - path: "src/pages/ProductDetail.tsx"
          description: "P√°gina principal de detalle de producto"
          dependencies:
            - ProductImageZoom
            - ProductPurchaseSidebar
            - useTranslatedProduct
            - useProducts
        
      components:
        - path: "src/components/ProductCard.tsx"
          description: "Card individual de producto para grids"
          props:
            - id: string
            - name: string
            - description: string
            - price: number
            - compare_at_price: number?
            - images: string[]
            - stock: number
            - tags: string[]
            - reward_percentage: number
          events:
            - onClick: "Navega a detalle"
            - onAddToCart: "Agrega al carrito"
            - onWishlist: "Toggle wishlist"
            - onCompare: "Toggle comparaci√≥n"
        
        - path: "src/components/ProductImageZoom.tsx"
          description: "Galer√≠a de im√°genes con zoom inteligente"
          features:
            - "Grid adaptativo (1-7 im√°genes)"
            - "Zoom lens 250%"
            - "Contador X/Y"
            - "Dots de navegaci√≥n"
            - "Badges de descuento y stock"
          props:
            - images: string[]
            - alt: string
            - discount: number?
            - stock: number?
            - className: string?
        
        - path: "src/components/ProductPurchaseSidebar.tsx"
          description: "Sidebar de compra con acciones"
          features:
            - "Selector de cantidad"
            - "Add to cart / Buy now"
            - "Precio con descuentos"
            - "Rewards points"
            - "Wishlist/Compare/Share"
            - "Info de env√≠o"
          props:
            - product: Product
            - quantity: number
            - onQuantityChange: function
            - onAddToCart: function
            - onBuyNow: function
            - translatedName: string
            - translatedDescription: string
      
      hooks:
        - path: "src/hooks/useProducts.ts"
          description: "Hook para obtener productos"
          exports:
            - useProducts: "Lista de productos activos"
            - useFeaturedProducts: "Productos destacados"
          note: "‚ö†Ô∏è Actualmente usa Supabase. MIGRAR A MOCK."
        
        - path: "src/hooks/useProductVariations.ts"
          description: "Hook para variantes de producto"
          exports:
            - useProductVariations: "Obtiene variaciones (color, talla)"
            - getVariationAttributes: "Helper para atributos √∫nicos"
            - findVariationByAttributes: "Busca variaci√≥n espec√≠fica"
        
        - path: "src/hooks/useTranslatedProduct.ts"
          description: "Traducciones de productos"
          exports:
            - useTranslatedProduct: "Retorna name y description traducidos"
    
    integration:
      mock_data: "src/data/mockData.ts ‚Üí MOCK_PRODUCTS"
      future_api: "GET /api/products/:id"
  
  
  # --- M√ìDULO 2: CARRITO DE COMPRAS ---
  shopping_cart:
    name: "Carrito de Compras"
    status: "‚úÖ COMPLETO"
    priority: 2
    files:
      components:
        - path: "src/components/CartSheet.tsx"
          description: "Modal/Drawer del carrito"
          features:
            - "Agregar/Remover productos"
            - "Incrementar/Decrementar cantidad"
            - "C√°lculo de subtotal, tax, shipping"
            - "Rewards points"
            - "Uso de puntos para descuento"
            - "Bot√≥n de checkout"
          subcomponents:
            - CartItemDisplay: "Renderiza cada item"
      
      contexts:
        - path: "src/contexts/CartContext.tsx"
          description: "Context global del carrito"
          exports:
            - items: CartItem[]
            - cartTotal: number
            - cartCount: number
            - addToCart: function
            - removeFromCart: function
            - updateQuantity: function
            - clearCart: function
          persistence: "localStorage (wincova-cart)"
    
    integration:
      storage: "localStorage"
      future_api: "POST /api/cart, PUT /api/cart/:item"
  
  
  # --- M√ìDULO 3: GRID/LISTADO DE PRODUCTOS ---
  product_grid:
    name: "Grid/Listado de Productos"
    status: "‚úÖ COMPLETO"
    priority: 3
    files:
      pages:
        - path: "src/pages/Index.tsx"
          description: "Homepage con grid de productos destacados"
          sections:
            - Hero banner
            - Benefits bar
            - Changelog banner
            - Categories grid
            - Featured products grid
            - Value proposition
            - Testimonials
            - Newsletter CTA
          layout: "Grid 2-4 columnas responsive"
        
        - path: "src/pages/Category.tsx"
          description: "Vista de categor√≠a con productos"
          features:
            - "Filtrado por categor√≠a"
            - "Ordenamiento (precio, fecha)"
            - "Grid responsive"
            - "Sidebar de productos destacados"
            - "Productos patrocinados intercalados"
        
        - path: "src/pages/Search.tsx"
          description: "B√∫squeda avanzada con filtros"
          features:
            - "B√∫squeda en tiempo real"
            - "Autocompletado"
            - "Filtros multi-criterio"
            - "Paginaci√≥n"
            - "Drawer de filtros (mobile)"
            - "Sidebar fijo (desktop)"
      
      components:
        - path: "src/components/StickyFilters.tsx"
          description: "Filtros flotantes sticky"
          props:
            - sortBy: string
            - onSortChange: function
        
        - path: "src/components/AdvancedFilters.tsx"
          description: "Filtros avanzados completos"
          filters:
            - categories: "Checkboxes de categor√≠as"
            - price_range: "Slider de rango de precio"
            - min_rating: "Select de rating m√≠nimo"
            - in_stock: "Checkbox solo en stock"
        
        - path: "src/components/FeaturedSidebar.tsx"
          description: "Sidebar de productos destacados"
      
      hooks:
        - path: "src/hooks/useAdvancedSearch.ts"
          description: "Hook de b√∫squeda avanzada"
          features:
            - "Debounce de query"
            - "Filtros reactivos"
            - "Paginaci√≥n"
            - "Sugerencias"
          exports:
            - searchQuery: string
            - setSearchQuery: function
            - filters: SearchFilters
            - setFilters: function
            - results: Product[]
            - totalResults: number
            - suggestions: string[]
            - availableCategories: string[]
            - loading: boolean
            - error: string?
            - currentPage: number
            - totalPages: number
            - handlePageChange: function
          note: "‚úÖ Ya usa MOCK_PRODUCTS interno"
    
    integration:
      mock_data: "useAdvancedSearch ‚Üí MOCK_PRODUCTS (100 productos)"
      future_api: "GET /api/products?search=&filters="
  
  
  # --- M√ìDULO 4: PANEL DE USUARIO/PEDIDOS ---
  user_dashboard:
    name: "Panel de Usuario/Pedidos"
    status: "‚úÖ COMPLETO"
    priority: 4
    files:
      pages:
        - path: "src/pages/Profile.tsx"
          description: "Perfil de usuario con tabs"
          tabs:
            - orders: "Historial de √≥rdenes"
            - referrals: "Programa de referidos"
            - rewards: "Balance de rewards points"
          features:
            - "Edici√≥n de perfil"
            - "Vista de √≥rdenes con estados"
            - "Click en orden ‚Üí detalle"
        
        - path: "src/pages/OrderDetail.tsx"
          description: "Vista detallada de orden"
          sections:
            - header: "N√∫mero de orden + status"
            - tracking: "Tracking info + carrier"
            - items: "Lista de productos"
            - addresses: "Shipping + Billing"
            - summary: "Resumen de costos"
            - actions: "CTA (continuar comprando, track live)"
          features:
            - "Estados visuales con iconos"
            - "Links a carriers (UPS, FedEx, etc.)"
            - "Dise√±o premium con gradientes"
        
        - path: "src/pages/TrackOrder.tsx"
          description: "Tracking p√∫blico de orden"
      
      components:
        - path: "src/components/RewardsBalance.tsx"
          description: "Card de balance de rewards"
      
      hooks:
        - path: "src/hooks/useAuth.ts"
          description: "Autenticaci√≥n de usuario"
          note: "‚ö†Ô∏è Actualmente usa Supabase Auth. MIGRAR A MOCK."
    
    integration:
      mock_data: "src/data/mockData.ts ‚Üí MOCK_ORDERS, MOCK_USER"
      future_api: 
        - "GET /api/user/profile"
        - "GET /api/user/orders"
        - "GET /api/orders/:id"
        - "PUT /api/user/profile"
  
  
  # --- M√ìDULO 5: CHECKOUT PASO A PASO ---
  checkout_flow:
    name: "Checkout Paso a Paso"
    status: "‚úÖ COMPLETO"
    priority: 5
    files:
      pages:
        - path: "src/pages/Checkout.tsx"
          description: "P√°gina principal de checkout"
          layout: "2 columnas (form + summary)"
          features:
            - "Payment intent con Stripe"
            - "Resumen sticky"
            - "Aplicaci√≥n de rewards points"
            - "C√°lculo de tax + shipping"
            - "Validaci√≥n de formularios"
        
        - path: "src/pages/PaymentSuccess.tsx"
          description: "Confirmaci√≥n post-pago"
      
      components:
        - path: "src/components/CheckoutForm.tsx"
          description: "Formulario de checkout"
          fields:
            - email: "Email del comprador"
            - name: "Nombre completo"
            - payment_details: "Stripe PaymentElement"
          integration: "Stripe Elements"
          note: "‚ö†Ô∏è Usar mock de Stripe en frontend"
    
    integration:
      mock_data: "Simular creaci√≥n de orden mock"
      future_api:
        - "POST /api/checkout/create-payment-intent"
        - "POST /api/orders"
        - "POST /api/orders/:id/confirm"
  
  
  # --- M√ìDULO 6: B√öSQUEDA Y FILTROS ---
  search_filters:
    name: "Barra de B√∫squeda y Sidebar de Filtros"
    status: "‚úÖ COMPLETO"
    priority: 6
    files:
      pages:
        - path: "src/pages/Search.tsx"
          description: "P√°gina de b√∫squeda principal"
          note: "Ver M√ìDULO 3 para detalles"
      
      components:
        - path: "src/components/AdvancedFilters.tsx"
          description: "Filtros avanzados"
        
        - path: "src/components/StickyFilters.tsx"
          description: "Filtros sticky flotantes"
      
      hooks:
        - path: "src/hooks/useAdvancedSearch.ts"
          description: "L√≥gica de b√∫squeda"
    
    integration:
      mock_data: "useAdvancedSearch ‚Üí MOCK_PRODUCTS"
      future_api: "GET /api/search?q=&filters="


# ============================================
# COMPONENTES BASE REUTILIZABLES
# ============================================

ui_components:
  shadcn_ui:
    location: "src/components/ui/"
    components:
      - button: "Bot√≥n con variantes"
      - card: "Tarjeta contenedor"
      - dialog: "Modal/Dialog"
      - sheet: "Drawer lateral"
      - input: "Input field"
      - select: "Dropdown select"
      - checkbox: "Checkbox"
      - slider: "Range slider"
      - badge: "Badge/Tag"
      - skeleton: "Loading skeleton"
      - pagination: "Paginaci√≥n"
      - toast: "Notificaciones"
      - tabs: "Pesta√±as"
      - separator: "Separador"
      - scroll-area: "√Årea con scroll"
      - tooltip: "Tooltip"
      - popover: "Popover"
      - dropdown-menu: "Men√∫ desplegable"
      - form: "Formularios con validaci√≥n"
      - label: "Label para inputs"
      - progress: "Barra de progreso"
      - avatar: "Avatar de usuario"
      - calendar: "Selector de fecha"
      - command: "Command palette"
      - accordion: "Acorde√≥n expandible"
      - alert: "Alertas"
      - aspect-ratio: "Ratio de aspecto"
      - collapsible: "Contenedor colapsable"
      - context-menu: "Men√∫ contextual"
      - hover-card: "Card al hover"
      - menubar: "Barra de men√∫"
      - navigation-menu: "Men√∫ de navegaci√≥n"
      - radio-group: "Grupo de radio buttons"
      - switch: "Switch toggle"
      - table: "Tabla de datos"
      - textarea: "Textarea"
      - toggle: "Toggle button"


# ============================================
# CONTEXTOS GLOBALES
# ============================================

contexts:
  cart:
    path: "src/contexts/CartContext.tsx"
    exports:
      - items: CartItem[]
      - cartTotal: number
      - cartCount: number
      - addToCart: function
      - removeFromCart: function
      - updateQuantity: function
      - clearCart: function
    persistence: "localStorage (wincova-cart)"
  
  wishlist:
    path: "src/contexts/WishlistContext.tsx"
    exports:
      - wishlist: Product[]
      - addToWishlist: function
      - removeFromWishlist: function
      - isInWishlist: function
      - clearWishlist: function
    persistence: "localStorage (wincova-wishlist)"
  
  compare:
    path: "src/contexts/CompareContext.tsx"
    exports:
      - compareList: Product[]
      - addToCompare: function
      - removeFromCompare: function
      - isInCompare: function
      - clearCompare: function
    persistence: "localStorage (wincova-compare)"
  
  currency:
    path: "src/contexts/CurrencyContext.tsx"
    exports:
      - currency: string
      - setCurrency: function
      - exchangeRates: object
      - formatPrice: function
    supported_currencies:
      - USD: "D√≥lar estadounidense"
      - EUR: "Euro"
      - GBP: "Libra esterlina"
      - MXN: "Peso mexicano"


# ============================================
# SISTEMA DE DATOS MOCK
# ============================================

mock_data:
  main_file: "src/data/mockData.ts"
  
  entities:
    products:
      count: 8
      interface: MockProduct
      fields:
        - id: string
        - name: string
        - description: string
        - price: number
        - compare_at_price: number?
        - category_id: string
        - images: string[]
        - stock: number
        - is_active: boolean
        - sku: string
        - tags: string[]
        - reward_percentage: number
        - created_at: string
        - rating: number
        - reviews_count: number
        - name_es: string?
        - name_fr: string?
        - name_pt: string?
        - name_zh: string?
        - description_es: string?
        - description_fr: string?
        - description_pt: string?
        - description_zh: string?
    
    variations:
      count: 4
      interface: MockVariation
      fields:
        - id: string
        - product_id: string
        - sku: string
        - price: number
        - regular_price: number?
        - sale_price: number?
        - stock: number
        - is_active: boolean
        - images: string[]
        - attributes: Array<{name, value}>
        - weight: string?
        - dimensions: any?
    
    orders:
      count: 3
      interface: MockOrder
      fields:
        - id: string
        - user_id: string
        - order_number: string
        - created_at: string
        - status: enum
        - payment_status: enum
        - total: number
        - subtotal: number
        - shipping: number
        - tax: number
        - currency: string
        - shipping_address: string
        - billing_address: string
        - tracking_number: string?
        - carrier: string?
        - estimated_delivery_date: string?
        - notes: string?
        - items: MockOrderItem[]
    
    user:
      interface: MockUser
      fields:
        - id: string
        - email: string
        - full_name: string
        - phone: string?
        - birthday: string?
        - address: string?
        - city: string?
        - country: string?
        - created_at: string
  
  helpers:
    - getMockProductById: "Obtiene producto por ID"
    - getMockProductVariations: "Variaciones de producto"
    - getMockOrdersByUserId: "√ìrdenes de usuario"
    - getMockOrderById: "Orden espec√≠fica"
    - getFeaturedMockProducts: "Productos destacados"
    - getNewMockProducts: "Productos nuevos"
    - getMockProductsByCategory: "Por categor√≠a"
    - searchMockProducts: "B√∫squeda de productos"


# ============================================
# SISTEMA DE TRADUCCIONES
# ============================================

i18n:
  library: "i18next + react-i18next"
  config_file: "src/i18n/index.ts"
  
  languages:
    - code: en
      name: English
      flag: üá∫üá∏
      file: "src/i18n/locales/en.json"
    
    - code: es
      name: Espa√±ol
      flag: üá™üá∏
      file: "src/i18n/locales/es.json"
    
    - code: fr
      name: Fran√ßais
      flag: üá´üá∑
      file: "src/i18n/locales/fr.json"
    
    - code: pt
      name: Portugu√™s
      flag: üáßüá∑
      file: "src/i18n/locales/pt.json"
    
    - code: zh
      name: ‰∏≠Êñá
      flag: üá®üá≥
      file: "src/i18n/locales/zh.json"
  
  structure:
    - hero: "Textos del hero"
    - products: "Textos de productos"
    - cart: "Textos del carrito"
    - checkout: "Textos del checkout"
    - profile: "Textos del perfil"
    - order_detail: "Textos de orden"
    - search: "Textos de b√∫squeda"
    - benefits: "Beneficios"
    - testimonials: "Testimoniales"
    - newsletter: "Newsletter"
    - footer: "Footer"
    - common: "Textos comunes"


# ============================================
# SISTEMA DE DISE√ëO
# ============================================

design_system:
  config_file: "tailwind.config.ts"
  styles_file: "src/index.css"
  
  colors:
    primary:
      value: "hsl(25, 95%, 53%)"
      hex: "#e77600"
      description: "Naranja principal"
    
    secondary:
      value: "hsl(240, 4.8%, 95.9%)"
      description: "Gris claro secundario"
    
    accent:
      value: "hsl(240, 4.8%, 95.9%)"
      description: "Acento"
    
    destructive:
      value: "hsl(0, 84.2%, 60.2%)"
      description: "Rojo destructivo"
    
    muted:
      value: "hsl(240, 4.8%, 95.9%)"
      description: "Gris apagado"
  
  typography:
    fonts:
      - family: "Inter"
        weights: [400, 500, 600, 700]
    
    sizes:
      - xs: "0.75rem"
      - sm: "0.875rem"
      - base: "1rem"
      - lg: "1.125rem"
      - xl: "1.25rem"
      - "2xl": "1.5rem"
      - "3xl": "1.875rem"
      - "4xl": "2.25rem"
  
  animations:
    - fade-in: "0.3s ease-out"
    - scale-in: "0.2s ease-out"
    - slide-in-right: "0.3s ease-out"
    - hover-scale: "0.2s ease"


# ============================================
# RUTAS DE NAVEGACI√ìN
# ============================================

routes:
  public:
    - path: "/"
      component: "Index"
      description: "Homepage"
    
    - path: "/product/:id"
      component: "ProductDetail"
      description: "Detalle de producto"
    
    - path: "/category/:slug"
      component: "Category"
      description: "Productos por categor√≠a"
    
    - path: "/search"
      component: "Search"
      description: "B√∫squeda avanzada"
    
    - path: "/wishlist"
      component: "Wishlist"
      description: "Lista de deseos"
    
    - path: "/compare"
      component: "Compare"
      description: "Comparador de productos"
    
    - path: "/faq"
      component: "FAQ"
      description: "Preguntas frecuentes"
    
    - path: "/terms"
      component: "Terms"
      description: "T√©rminos y condiciones"
    
    - path: "/return-policy"
      component: "ReturnPolicy"
      description: "Pol√≠tica de devoluciones"
    
    - path: "/cookie-policy"
      component: "CookiePolicy"
      description: "Pol√≠tica de cookies"
  
  protected:
    - path: "/checkout"
      component: "Checkout"
      description: "Proceso de checkout"
      requires_auth: false
      note: "Auth opcional"
    
    - path: "/payment-success"
      component: "PaymentSuccess"
      description: "Confirmaci√≥n de pago"
    
    - path: "/profile"
      component: "Profile"
      description: "Perfil de usuario"
      requires_auth: true
    
    - path: "/order/:orderId"
      component: "OrderDetail"
      description: "Detalle de orden"
      requires_auth: true
    
    - path: "/track-order"
      component: "TrackOrder"
      description: "Rastreo de orden"
      requires_auth: false
  
  admin:
    - path: "/admin"
      component: "Admin"
      description: "Panel admin"
      requires_role: "admin"


# ============================================
# PLAN DE MIGRACI√ìN A BACKEND REAL
# ============================================

migration_plan:
  fase_1_preparacion:
    tasks:
      - "Crear proyecto Supabase"
      - "Definir esquema de base de datos"
      - "Configurar RLS policies"
      - "Seed database con productos mock"
      - "Configurar Supabase Auth"
      - "Configurar Stripe webhooks"
  
  fase_2_migracion_datos:
    tasks:
      - "Ejecutar script de seed (mockData ‚Üí Supabase)"
      - "Validar integridad de datos"
      - "Crear √≠ndices para performance"
  
  fase_3_migracion_hooks:
    hooks_a_migrar:
      - useProducts:
          from: "MOCK_PRODUCTS"
          to: "Supabase query"
      
      - useProductVariations:
          from: "MOCK_VARIATIONS"
          to: "Supabase query"
      
      - Profile/Orders:
          from: "MOCK_ORDERS, MOCK_USER"
          to: "Supabase queries con RLS"
      
      - CartContext:
          from: "localStorage"
          to: "Supabase cart_storage (opcional)"
  
  fase_4_integraciones:
    tasks:
      - "Conectar Stripe real (create-payment-intent)"
      - "Configurar emails transaccionales"
      - "Implementar webhooks"
      - "Analytics"
      - "Monitoring"
  
  fase_5_testing:
    tasks:
      - "Testing E2E (Cypress)"
      - "Load testing"
      - "Security audit"
      - "Performance optimization"


# ============================================
# COMANDOS Y SCRIPTS
# ============================================

scripts:
  development:
    - command: "npm run dev"
      description: "Servidor de desarrollo"
      port: 8080
  
  build:
    - command: "npm run build"
      description: "Build para producci√≥n"
      output: "dist/"
  
  preview:
    - command: "npm run preview"
      description: "Preview de build"
  
  lint:
    - command: "npm run lint"
      description: "Linter ESLint"
  
  type-check:
    - command: "npm run type-check"
      description: "Verificaci√≥n de tipos TS"


# ============================================
# DEPENDENCIAS CR√çTICAS
# ============================================

dependencies:
  core:
    - react: "^18.3.1"
    - react-dom: "^18.3.1"
    - react-router-dom: "^6.30.1"
    - typescript: "~5.x"
  
  ui:
    - tailwindcss: "^3.x"
    - "@radix-ui/react-*": "Componentes Shadcn/ui"
    - lucide-react: "^0.462.0"
  
  state:
    - "@tanstack/react-query": "^5.83.0"
  
  i18n:
    - i18next: "^25.5.3"
    - react-i18next: "^16.0.0"
    - i18next-browser-languagedetector: "^8.2.0"
  
  payments:
    - "@stripe/stripe-js": "^8.3.0"
    - "@stripe/react-stripe-js": "^5.3.0"
  
  backend:
    - "@supabase/supabase-js": "^2.58.0"
  
  utils:
    - clsx: "^2.1.1"
    - tailwind-merge: "^2.6.0"
    - date-fns: "^4.1.0"
    - use-debounce: "^10.0.6"


# ============================================
# NOTAS FINALES
# ============================================

notes:
  - "‚úÖ Frontend 100% funcional en modo MOCK"
  - "‚úÖ Todos los componentes modulares y exportables"
  - "‚úÖ Dise√±o responsive y accesible"
  - "‚úÖ Multi-idioma y multi-moneda"
  - "‚ö†Ô∏è PENDIENTE: Migrar de mock a backend real (Supabase)"
  - "‚ö†Ô∏è PENDIENTE: Implementar autenticaci√≥n real"
  - "‚ö†Ô∏è PENDIENTE: Conectar Stripe en producci√≥n"
  - "üìù Seguir gu√≠a de migraci√≥n en FRONTEND_DOCUMENTATION.md"
  - "üìù Todo listo para migraci√≥n a Replit/Vercel/cualquier hosting"

contact:
  team: "WINCOVA Development Team"
  repository: "https://github.com/WINCOVA-STORE/shop-evolve-pro"
  documentation: "FRONTEND_DOCUMENTATION.md"
